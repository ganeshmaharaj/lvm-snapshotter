dist: xenial

language: go

go:
  - "1.11"
  - "1.12"
  - tip

env:
  - GO111MODULE=on

go_import_path: github.com/ganeshmaharaj/lvm-snapshotter

before_install:
  - sudo apt update
  - sudo apt install lvm2 thin-provisioning-tools libseccomp2

matrix:
  allow_failures:
    - go: tip

script:
  - go env
  - go fmt
  - env GO111MODULE=on go build
  - ./tests/test_snapshotter.sh
